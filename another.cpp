//=====================================================================
//
// ゲーム画面 [another.cpp]
// Author : Kaito Iwasaki
// 
//=====================================================================

//*********************************************************************
// 
// ***** インクルードファイル *****
// 
//*********************************************************************
#include "baseScene.h"
#include "another.h"
#include "input.h"
#include "sound.h"
#include "fade.h"

#include "uzawa.h"
#include "player.h"
#include "bullet.h"

//*********************************************************************
// 
// ***** マクロ定義 *****
// 
//*********************************************************************


//*********************************************************************
// 
// ***** グローバル変数 *****
// 
//*********************************************************************


//=====================================================================
// 初期化処理
//=====================================================================
void InitAnother(void)
{
	InitUzawa();
	InitPlayer();
	InitBullet();

	GetUzawa()->obj.size *= 0.5;
}

//=====================================================================
// 終了処理
//=====================================================================
void UninitAnother(void)
{
	UninitBullet();
	UninitUzawa();
	UninitPlayer();
}

//=====================================================================
// 更新処理
//=====================================================================
void UpdateAnother(void)
{
	GetUzawa()->obj.rot.z += 0.1f;

	UpdateUzawa();
	UpdatePlayer();
	UpdateBullet();

	if (GetKeyboardTrigger(DIK_RETURN))
	{
		SetFade(SCENE_GAME);
	}
}

//=====================================================================
// 描画処理
//=====================================================================
void DrawAnother(void)
{
	DrawUzawa();
	DrawBullet();
	DrawPlayer();
}